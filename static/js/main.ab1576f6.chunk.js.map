{"version":3,"sources":["game/Info.js","game/Square.js","game/Board.js","game/Reset.js","game/Game.js","App.js","index.js"],"names":["Info","_this$props","this","props","isFinish","nextPlayer","winner","text","concat","react_default","a","createElement","className","classNames","hasWinner","Component","Square","_handleClick","e","preventDefault","_this","onSelect","position","value","onClick","selected","Board","_renderBoard","squares","game_Square","Reset","onReset","Game","state","Array","fill","_handleSelect","setState","_ref","updatedSquares","map","index","_calculateWinner","_isFinish","i","length","lines","_lines$i","Object","slicedToArray","one","two","three","_handleReset","_this$state","game_Info","game_Reset","game_Board","href","App","game_Game","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ab1576f6.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n\nclass Info extends Component {\n    render() {\n        const {isFinish, nextPlayer, winner} = this.props\n        const text = winner ? `Winner: ${winner}` : `Next player: ${nextPlayer}`\n\n        return (\n            <div className={classNames(\"Info\", {hasWinner: !!winner})}>\n                {\n                    (isFinish && !winner) ? 'Game end.' : text\n                }\n            </div>\n        )\n    }\n}\n\nInfo.propTypes = {\n    winner: PropTypes.string.isRequired,\n    isFinish: PropTypes.bool.isRequired,\n    nextPlayer: PropTypes.string.isRequired,\n}\n\nexport default Info\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n\nclass Square extends Component {\n    _handleClick = e => {\n        e.preventDefault()\n\n        this.props.onSelect(this.props.position)\n    }\n\n    render() {\n        const {value} = this.props\n\n        return (\n            <div onClick={this._handleClick} className={classNames(\"Square\", {selected: !!value})}>\n                {value}\n            </div>\n        )\n    }\n}\n\nSquare.propTypes = {\n    value: PropTypes.any,\n    position: PropTypes.number.isRequired,\n    onSelect: PropTypes.func.isRequired,\n}\n\nexport default Square\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport Square from \"./Square\"\n\nclass Board extends Component {\n\n    _renderBoard = (position) => {\n        const {squares, onSelect} = this.props\n\n        return (\n            <Square onSelect={onSelect} position={position} value={squares[position]}/>\n        )\n    }\n\n    render() {\n\n\n        return (\n            <div className=\"Board\">\n                <div className=\"Row\">\n                    {this._renderBoard(0)}\n                    {this._renderBoard(1)}\n                    {this._renderBoard(2)}\n                </div>\n                <div className=\"Row\">\n                    {this._renderBoard(3)}\n                    {this._renderBoard(4)}\n                    {this._renderBoard(5)}\n                </div>\n                <div className=\"Row\">\n                    {this._renderBoard(6)}\n                    {this._renderBoard(7)}\n                    {this._renderBoard(8)}\n                </div>\n            </div>\n        )\n    }\n}\n\nBoard.propTypes = {\n    squares: PropTypes.array.isRequired,\n    onSelect: PropTypes.func.isRequired,\n}\n\nexport default Board\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\n\nclass Reset extends Component {\n    _handleClick = e => {\n        e.preventDefault()\n\n        this.props.onReset()\n    }\n\n    render() {\n        return (\n            <div className=\"Reset\">\n                <button onClick={this._handleClick}>Reset</button>\n            </div>\n        )\n    }\n}\n\nReset.propTypes = {\n    onReset: PropTypes.func.isRequired,\n}\n\nexport default Reset\n","import React, {Component} from 'react'\nimport Info from \"./Info\"\nimport Board from \"./Board\"\nimport Reset from \"./Reset\"\nimport classNames from 'classnames'\n\nclass Game extends Component {\n    state = {\n        squares: Array(9).fill(null),\n        nextPlayer: 'X',\n        winner: '',\n        isFinish: false,\n    }\n\n    _handleSelect = position => {\n        if (this.state.isFinish) return\n\n        this.setState(({squares, nextPlayer}) => {\n            const updatedSquares = squares.map((value, index) => {\n                if (index !== position) return value\n\n                return nextPlayer\n            })\n\n            const winner = this._calculateWinner(updatedSquares)\n\n            return {\n                isFinish: !!winner || this._isFinish(updatedSquares),\n                winner,\n                nextPlayer: nextPlayer === 'X' ? 'O' : 'X',\n                squares: squares.map((value, index) => {\n                    if (index !== position) return value\n\n                    return nextPlayer\n                })\n            }\n        })\n    }\n\n    _isFinish = squares => {\n        for (let i = 0; i < squares.length; i++) {\n            if (!squares[i]) return false\n        }\n\n        return true\n    }\n\n    _calculateWinner = (squares) => {\n        const lines = [\n            [0, 1, 2],\n            [3, 4, 5],\n            [6, 7, 8],\n            [0, 3, 6],\n            [1, 4, 7],\n            [2, 5, 8],\n            [0, 4, 8],\n            [2, 4, 6],\n        ]\n\n        for (let i = 0; i < lines.length; i++) {\n            const [one, two, three] = lines[i]\n\n            if (squares[one] && squares[one] === squares[two] && squares[one] === squares[three]) {\n                return squares[one]\n            }\n        }\n\n        return ''\n    }\n\n    _handleReset = () => {\n        this.setState({\n            squares: Array(9).fill(null),\n            nextPlayer: 'X',\n            winner: '',\n            isFinish: false,\n        })\n    }\n\n\n    render() {\n        const {squares, isFinish, nextPlayer, winner} = this.state\n\n        return (\n            <div className={classNames(\"Game\", {isFinish, hasWinner: !!winner})}>\n                <div className=\"Top\">\n                    <Info isFinish={isFinish} nextPlayer={nextPlayer} winner={winner}/>\n                    <Reset onReset={this._handleReset}/>\n                </div>\n                <Board onSelect={this._handleSelect} squares={squares}/>\n\n                <div className=\"Bottom\">\n                    <a href=\"https://github.com/tutv/react-tictactoe\">Source code</a>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Game\n","import React, {Component} from 'react'\nimport Game from \"./game/Game\"\nimport \"./styles/main.scss\"\n\nclass App extends Component {\n    render() {\n        return (\n            <div className=\"App\">\n                <h1>Tic tac toe</h1>\n                <Game/>\n            </div>\n        )\n    }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}